# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`nginx`](#nginx): Class: nginx  This module manages NGINX.  Parameters:  Actions:  Requires:  puppetlabs-stdlib - https://github.com/puppetlabs/puppetlabs-stdl
* [`nginx::config`](#nginxconfig): Class: nginx::config  This module manages NGINX bootstrap and configuration  Parameters:  There are no default parameters for this class.  Ac
* [`nginx::package`](#nginxpackage): Class: nginx::package  This module manages NGINX package installation  Parameters:  There are no default parameters for this class.  Actions:
* [`nginx::package::debian`](#nginxpackagedebian): Class: nginx::package::debian  This module manages NGINX package installation on debian based systems  Parameters:  There are no default para
* [`nginx::package::redhat`](#nginxpackageredhat): Class: nginx::package::redhat  This module manages NGINX package installation on RedHat based systems  Parameters:  There are no default para
* [`nginx::params`](#nginxparams): Class: nginx::params ====================  nginx default settings and according to operating system
* [`nginx::service`](#nginxservice): Class: nginx::service  This module manages NGINX service management and server rebuild  Parameters:  There are no default parameters for this

**Defined types**

* [`nginx::resource::geo`](#nginxresourcegeo): 
* [`nginx::resource::location`](#nginxresourcelocation): 
* [`nginx::resource::mailhost`](#nginxresourcemailhost): define: nginx::resource::mailhost  This definition creates a virtual host  Parameters:   [*ensure*]                    - Enables or disables 
* [`nginx::resource::map`](#nginxresourcemap): 
* [`nginx::resource::server`](#nginxresourceserver): define: nginx::resource::server  This definition creates a virtual host  Parameters:   [*ensure*]                     - Enables or disables t
* [`nginx::resource::streamhost`](#nginxresourcestreamhost): define: nginx::resource::streamhost  This definition creates a virtual host  Parameters:   [*ensure*]              - Enables or disables the 
* [`nginx::resource::upstream`](#nginxresourceupstream): define: nginx::resource::upstream  This definition creates a new upstream proxy entry for NGINX  Parameters:   [*members*]               - Ar
* [`nginx::resource::upstream::member`](#nginxresourceupstreammember): Define: nginx::resources::upstream::member  Creates an upstream member inside the upstream block. Export this resource in all upstream member

## Classes

### nginx

Class: nginx

This module manages NGINX.

Parameters:

Actions:

Requires:
 puppetlabs-stdlib - https://github.com/puppetlabs/puppetlabs-stdlib

 Packaged NGINX
   - RHEL: EPEL or custom package
   - Debian/Ubuntu: Default Install or custom package
   - SuSE: Default Install or custom package

 stdlib
   - puppetlabs-stdlib module >= 0.1.6

Sample Usage:

The module works with sensible defaults:

node default {
  include nginx
}

#### Parameters

The following parameters are available in the `nginx` class.

##### `client_body_temp_path`

Data type: `Any`



Default value: $nginx::params::client_body_temp_path

##### `confd_only`

Data type: `Boolean`



Default value: `false`

##### `confd_purge`

Data type: `Boolean`



Default value: `false`

##### `conf_dir`

Data type: `Any`



Default value: $nginx::params::conf_dir

##### `daemon`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `daemon_user`

Data type: `Any`



Default value: $nginx::params::daemon_user

##### `daemon_group`

Data type: `Any`



Default value: `undef`

##### `dynamic_modules`

Data type: `Array[String]`



Default value: []

##### `global_owner`

Data type: `Any`



Default value: $nginx::params::global_owner

##### `global_group`

Data type: `Any`



Default value: $nginx::params::global_group

##### `global_mode`

Data type: `Any`



Default value: $nginx::params::global_mode

##### `log_dir`

Data type: `Any`



Default value: $nginx::params::log_dir

##### `log_group`

Data type: `Any`



Default value: $nginx::params::log_group

##### `log_mode`

Data type: `Any`



Default value: '0750'

##### `http_access_log`

Data type: `Variant[String, Array[String]]`



Default value: "${log_dir}/${nginx::params::http_access_log_file}"

##### `http_format_log`

Data type: `Any`



Default value: `undef`

##### `nginx_error_log`

Data type: `Variant[String, Array[String]]`



Default value: "${log_dir}/${nginx::params::nginx_error_log_file}"

##### `nginx_error_log_severity`

Data type: `Nginx::ErrorLogSeverity`



Default value: 'error'

##### `pid`

Data type: `Any`



Default value: $nginx::params::pid

##### `proxy_temp_path`

Data type: `Any`



Default value: $nginx::params::proxy_temp_path

##### `root_group`

Data type: `Any`



Default value: $nginx::params::root_group

##### `run_dir`

Data type: `Any`



Default value: $nginx::params::run_dir

##### `sites_available_owner`

Data type: `Any`



Default value: $nginx::params::sites_available_owner

##### `sites_available_group`

Data type: `Any`



Default value: $nginx::params::sites_available_group

##### `sites_available_mode`

Data type: `Any`



Default value: $nginx::params::sites_available_mode

##### `super_user`

Data type: `Boolean`



Default value: $nginx::params::super_user

##### `temp_dir`

Data type: `Any`



Default value: $nginx::params::temp_dir

##### `server_purge`

Data type: `Boolean`



Default value: `false`

##### `conf_template`

Data type: `Any`



Default value: 'nginx/conf.d/nginx.conf.erb'

##### `absolute_redirect`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `accept_mutex`

Data type: `Any`



Default value: 'on'

##### `accept_mutex_delay`

Data type: `Any`



Default value: '500ms'

##### `client_body_buffer_size`

Data type: `Any`



Default value: '128k'

##### `client_max_body_size`

Data type: `String`



Default value: '10m'

##### `client_body_timeout`

Data type: `Any`



Default value: '60s'

##### `send_timeout`

Data type: `Any`



Default value: '60s'

##### `lingering_timeout`

Data type: `Any`



Default value: '5s'

##### `etag`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `events_use`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_cache_inactive`

Data type: `String`



Default value: '20m'

##### `fastcgi_cache_key`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_cache_keys_zone`

Data type: `String`



Default value: 'd3:100m'

##### `fastcgi_cache_levels`

Data type: `String`



Default value: '1'

##### `fastcgi_cache_max_size`

Data type: `String`



Default value: '500m'

##### `fastcgi_cache_path`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_cache_use_stale`

Data type: `Optional[String]`



Default value: `undef`

##### `gzip`

Data type: `Any`



Default value: 'on'

##### `gzip_buffers`

Data type: `Any`



Default value: `undef`

##### `gzip_comp_level`

Data type: `Any`



Default value: 1

##### `gzip_disable`

Data type: `Any`



Default value: 'msie6'

##### `gzip_min_length`

Data type: `Any`



Default value: 20

##### `gzip_http_version`

Data type: `Any`



Default value: 1.1

##### `gzip_proxied`

Data type: `Any`



Default value: 'off'

##### `gzip_types`

Data type: `Any`



Default value: `undef`

##### `gzip_vary`

Data type: `Any`



Default value: 'off'

##### `http_cfg_prepend`

Data type: `Optional[Variant[Hash, Array]]`



Default value: `undef`

##### `http_cfg_append`

Data type: `Optional[Variant[Hash, Array]]`



Default value: `undef`

##### `http_raw_prepend`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `http_raw_append`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `http_tcp_nodelay`

Data type: `Any`



Default value: 'on'

##### `http_tcp_nopush`

Data type: `Any`



Default value: 'off'

##### `keepalive_timeout`

Data type: `Any`



Default value: '65s'

##### `keepalive_requests`

Data type: `Any`



Default value: '100'

##### `log_format`

Data type: `Any`



Default value: {}

##### `mail`

Data type: `Boolean`



Default value: `false`

##### `stream`

Data type: `Boolean`



Default value: `false`

##### `multi_accept`

Data type: `String`



Default value: 'off'

##### `names_hash_bucket_size`

Data type: `Integer`



Default value: 64

##### `names_hash_max_size`

Data type: `Integer`



Default value: 512

##### `nginx_cfg_prepend`

Data type: `Any`



Default value: `false`

##### `proxy_buffers`

Data type: `String`



Default value: '32 4k'

##### `proxy_buffer_size`

Data type: `String`



Default value: '8k'

##### `proxy_cache_inactive`

Data type: `String`



Default value: '20m'

##### `proxy_cache_keys_zone`

Data type: `String`



Default value: 'd2:100m'

##### `proxy_cache_levels`

Data type: `String`



Default value: '1'

##### `proxy_cache_max_size`

Data type: `String`



Default value: '500m'

##### `proxy_cache_path`

Data type: `Optional[Variant[Hash, String]]`



Default value: `undef`

##### `proxy_cache_loader_files`

Data type: `Optional[Integer]`



Default value: `undef`

##### `proxy_cache_loader_sleep`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_loader_threshold`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_use_temp_path`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `proxy_connect_timeout`

Data type: `Any`



Default value: '90s'

##### `proxy_headers_hash_bucket_size`

Data type: `Integer`



Default value: 64

##### `proxy_http_version`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_read_timeout`

Data type: `Any`



Default value: '90s'

##### `proxy_redirect`

Data type: `Any`



Default value: `undef`

##### `proxy_send_timeout`

Data type: `Any`



Default value: '90s'

##### `proxy_set_header`

Data type: `Array`



Default value: [
    'Host $host',
    'X-Real-IP $remote_addr',
    'X-Forwarded-For $proxy_add_x_forwarded_for',
    'Proxy ""',
  ]

##### `proxy_hide_header`

Data type: `Array`



Default value: []

##### `proxy_pass_header`

Data type: `Array`



Default value: []

##### `proxy_ignore_header`

Data type: `Array`



Default value: []

##### `sendfile`

Data type: `Any`



Default value: 'on'

##### `server_tokens`

Data type: `String`



Default value: 'on'

##### `spdy`

Data type: `Any`



Default value: 'off'

##### `http2`

Data type: `Any`



Default value: 'off'

##### `ssl_stapling`

Data type: `Any`



Default value: 'off'

##### `types_hash_bucket_size`

Data type: `Any`



Default value: '512'

##### `types_hash_max_size`

Data type: `Any`



Default value: '1024'

##### `worker_connections`

Data type: `Integer`



Default value: 1024

##### `ssl_prefer_server_ciphers`

Data type: `Enum['on', 'off']`



Default value: 'on'

##### `worker_processes`

Data type: `Variant[Integer, Enum['auto']]`



Default value: 1

##### `worker_rlimit_nofile`

Data type: `Integer`



Default value: 1024

##### `ssl_protocols`

Data type: `Any`



Default value: 'TLSv1 TLSv1.1 TLSv1.2'

##### `ssl_ciphers`

Data type: `Any`



Default value: 'ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS'

##### `ssl_dhparam`

Data type: `Optional[Stdlib::Unixpath]`



Default value: `undef`

##### `package_ensure`

Data type: `Any`



Default value: present

##### `package_name`

Data type: `Any`



Default value: $nginx::params::package_name

##### `package_source`

Data type: `Any`



Default value: 'nginx'

##### `package_flavor`

Data type: `Any`



Default value: `undef`

##### `manage_repo`

Data type: `Any`



Default value: $nginx::params::manage_repo

##### `repo_release`

Data type: `Optional[String]`



Default value: `undef`

##### `passenger_package_ensure`

Data type: `Any`



Default value: 'present'

##### `service_ensure`

Data type: `Any`



Default value: running

##### `service_enable`

Data type: `Any`



Default value: `true`

##### `service_flags`

Data type: `Any`



Default value: `undef`

##### `service_restart`

Data type: `Any`



Default value: `undef`

##### `service_name`

Data type: `Any`



Default value: 'nginx'

##### `service_manage`

Data type: `Any`



Default value: `true`

##### `geo_mappings`

Data type: `Any`



Default value: {}

##### `string_mappings`

Data type: `Any`



Default value: {}

##### `nginx_locations`

Data type: `Any`



Default value: {}

##### `nginx_locations_defaults`

Data type: `Any`



Default value: {}

##### `nginx_mailhosts`

Data type: `Any`



Default value: {}

##### `nginx_mailhosts_defaults`

Data type: `Any`



Default value: {}

##### `nginx_streamhosts`

Data type: `Any`



Default value: {}

##### `nginx_upstreams`

Data type: `Any`



Default value: {}

##### `nginx_servers`

Data type: `Any`



Default value: {}

##### `nginx_servers_defaults`

Data type: `Any`



Default value: {}

##### `purge_passenger_repo`

Data type: `Boolean`



Default value: `true`

##### `add_listen_directive`

Data type: `Boolean`



Default value: $nginx::params::add_listen_directive

### nginx::config

Class: nginx::config

This module manages NGINX bootstrap and configuration

Parameters:

There are no default parameters for this class.

Actions:

Requires:

Sample Usage:

This class file is not called directly

### nginx::package

Class: nginx::package

This module manages NGINX package installation

Parameters:

There are no default parameters for this class.

Actions:

Requires:

Sample Usage:

This class file is not called directly

### nginx::package::debian

Class: nginx::package::debian

This module manages NGINX package installation on debian based systems

Parameters:

There are no default parameters for this class.

Actions:

Requires:

Sample Usage:

This class file is not called directly

### nginx::package::redhat

Class: nginx::package::redhat

This module manages NGINX package installation on RedHat based systems

Parameters:

There are no default parameters for this class.

Actions:

Requires:

Sample Usage:

This class file is not called directly

### nginx::params

Class: nginx::params
====================

nginx default settings and according to operating system

### nginx::service

Class: nginx::service

This module manages NGINX service management and server rebuild

Parameters:

There are no default parameters for this class.

Actions:

Requires:

Sample Usage:

This class file is not called directly

#### Parameters

The following parameters are available in the `nginx::service` class.

##### `service_restart`

Data type: `Any`



Default value: $nginx::service_restart

##### `service_ensure`

Data type: `Any`



Default value: $nginx::service_ensure

##### `service_enable`

Data type: `Any`



Default value: $nginx::service_enable

##### `service_name`

Data type: `Any`



Default value: $nginx::service_name

##### `service_flags`

Data type: `Any`



Default value: $nginx::service_flags

##### `service_manage`

Data type: `Any`



Default value: $nginx::service_manage

## Defined types

### nginx::resource::geo

The nginx::resource::geo class.

#### Parameters

The following parameters are available in the `nginx::resource::geo` defined type.

##### `networks`

Data type: `Hash`



##### `default`

Data type: `Optional[String]`



Default value: `undef`

##### `ensure`

Data type: `Enum['present', 'absent']`



Default value: 'present'

##### `ranges`

Data type: `Boolean`



Default value: `false`

##### `address`

Data type: `Optional[String]`



Default value: `undef`

##### `delete`

Data type: `Optional[String]`



Default value: `undef`

##### `proxies`

Data type: `Optional[Array]`



Default value: `undef`

##### `proxy_recursive`

Data type: `Optional[Boolean]`



Default value: `undef`

### nginx::resource::location

The nginx::resource::location class.

#### Parameters

The following parameters are available in the `nginx::resource::location` defined type.

##### `ensure`

Data type: `Enum['present', 'absent']`



Default value: present

##### `internal`

Data type: `Boolean`



Default value: `false`

##### `location`

Data type: `String`



Default value: $name

##### `server`

Data type: `String`



Default value: `undef`

##### `www_root`

Data type: `Optional[String]`



Default value: `undef`

##### `autoindex`

Data type: `Optional[String]`



Default value: `undef`

##### `index_files`

Data type: `Array`



Default value: [
    'index.html',
    'index.htm',
    'index.php']

##### `proxy`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_redirect`

Data type: `Optional[String]`



Default value: $nginx::proxy_redirect

##### `proxy_read_timeout`

Data type: `String`



Default value: $nginx::proxy_read_timeout

##### `proxy_connect_timeout`

Data type: `String`



Default value: $nginx::proxy_connect_timeout

##### `proxy_send_timeout`

Data type: `String`



Default value: $nginx::proxy_send_timeout

##### `proxy_set_header`

Data type: `Array`



Default value: $nginx::proxy_set_header

##### `proxy_hide_header`

Data type: `Array`



Default value: $nginx::proxy_hide_header

##### `proxy_pass_header`

Data type: `Array`



Default value: $nginx::proxy_pass_header

##### `proxy_ignore_header`

Data type: `Array`



Default value: $nginx::proxy_ignore_header

##### `proxy_next_upstream`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_index`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_param`

Data type: `Optional[Hash]`



Default value: `undef`

##### `fastcgi_params`

Data type: `String`



Default value: "${nginx::conf_dir}/fastcgi.conf"

##### `fastcgi_script`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_split_path`

Data type: `Optional[String]`



Default value: `undef`

##### `uwsgi`

Data type: `Optional[String]`



Default value: `undef`

##### `uwsgi_param`

Data type: `Optional[Hash]`



Default value: `undef`

##### `uwsgi_params`

Data type: `String`



Default value: "${nginx::config::conf_dir}/uwsgi_params"

##### `uwsgi_read_timeout`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl`

Data type: `Boolean`



Default value: `false`

##### `ssl_only`

Data type: `Boolean`



Default value: `false`

##### `location_alias`

Data type: `Optional[String]`



Default value: `undef`

##### `location_satisfy`

Data type: `Optional[Enum['any', 'all']]`



Default value: `undef`

##### `location_allow`

Data type: `Optional[Array]`



Default value: `undef`

##### `location_deny`

Data type: `Optional[Array]`



Default value: `undef`

##### `stub_status`

Data type: `Optional[Boolean ]`



Default value: `undef`

##### `raw_prepend`

Data type: `Optional[Variant[String, Array]]`



Default value: `undef`

##### `raw_append`

Data type: `Optional[Variant[String, Array]]`



Default value: `undef`

##### `location_custom_cfg`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_custom_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_custom_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `include`

Data type: `Optional[Array]`



Default value: `undef`

##### `try_files`

Data type: `Optional[Array]`



Default value: `undef`

##### `proxy_cache`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_key`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_use_stale`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_lock`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `proxy_cache_valid`

Data type: `Optional[Variant[Array, String]]`



Default value: `undef`

##### `proxy_cache_bypass`

Data type: `Optional[Variant[Array, String]]`



Default value: `undef`

##### `proxy_method`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_http_version`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_set_body`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_buffering`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `absolute_redirect`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `auth_basic`

Data type: `Optional[String]`



Default value: `undef`

##### `auth_basic_user_file`

Data type: `Optional[String]`



Default value: `undef`

##### `auth_request`

Data type: `Optional[String]`



Default value: `undef`

##### `rewrite_rules`

Data type: `Array`



Default value: []

##### `priority`

Data type: `Integer[401,599]`



Default value: 500

##### `mp4`

Data type: `Boolean`



Default value: `false`

##### `flv`

Data type: `Boolean`



Default value: `false`

##### `expires`

Data type: `Optional[String]`



Default value: `undef`

##### `add_header`

Data type: `Hash`



Default value: {}

### nginx::resource::mailhost

define: nginx::resource::mailhost

This definition creates a virtual host

Parameters:
  [*ensure*]                    - Enables or disables the specified mailhost (present|absent)
  [*listen_ip*]                 - Default IP Address for NGINX to listen with this server on. Defaults to all interfaces (*)
  [*listen_port*]               - Default IP Port for NGINX to listen with this server on. Defaults to TCP 80
  [*listen_options*]            - Extra options for listen directive like 'default' to catchall. Undef by default.
  [*ipv6_enable*]               - BOOL value to enable/disable IPv6 support (false|true). Module will check to see if IPv6
                                  support exists on your system before enabling.
  [*ipv6_listen_ip*]            - Default IPv6 Address for NGINX to listen with this server on. Defaults to all interfaces (::)
  [*ipv6_listen_port*]          - Default IPv6 Port for NGINX to listen with this server on. Defaults to TCP 80
  [*ipv6_listen_options*]       - Extra options for listen directive like 'default' to catchall. Template will allways add ipv6only=on.
                                  While issue jfryman/puppet-nginx#30 is discussed, default value is 'default'.
  [*index_files*]               - Default index files for NGINX to read when traversing a directory
  [*ssl*]                       - Indicates whether to setup SSL bindings for this mailhost.
  [*ssl_cert*]                  - Pre-generated SSL Certificate file to reference for SSL Support. This is not generated by this module.
  [*ssl_ciphers*]               - Override default SSL ciphers. Defaults to nginx::ssl_ciphers
  [*ssl_client_cert*]           - Pre-generated SSL Certificate file to reference for client verify SSL Support.
                                  This is not generated by this module.
  [*ssl_crl*]                   - String: Specifies CRL path in file system
  [*ssl_dhparam*]               - This directive specifies a file containing Diffie-Hellman key agreement protocol cryptographic
                                  parameters, in PEM format, utilized for exchanging session keys between server and client.
  [*ssl_ecdh_curve*]            - This directive specifies a curve for ECDHE ciphers.
  [*ssl_key*]                   - Pre-generated SSL Key file to reference for SSL Support. This is not generated by this module.
  [*ssl_password_file*]         - This directive specifies a file containing passphrases for secret keys.
  [*ssl_port*]                  - Default IP Port for NGINX to listen with this SSL server on. Defaults to TCP 443
  [*ssl_prefer_server_ciphers*] - Specifies that server ciphers should be preferred over client ciphers when using the SSLv3
                                  and TLS protocols. Defaults to $nginx::ssl_prefer_server_ciphers.
  [*ssl_protocols*]             - SSL protocols enabled. Defaults to nginx::ssl_protocols
  [*ssl_session_cache*]         - Sets the type and size of the session cache.
  [*ssl_session_ticket_key*]    - This directive specifies a file containing secret key used to encrypt and decrypt TLS session tickets.
  [*ssl_session_tickets*]       - Whether to enable or disable session resumption through TLS session tickets.
  [*ssl_session_timeout*]       - String: Specifies a time during which a client may reuse the session parameters stored in a cache.
                                  Defaults to 5m.
  [*ssl_trusted_cert*]          - String: Specifies a file with trusted CA certificates in the PEM format used to verify client
                                  certificates and OCSP responses if ssl_stapling is enabled.
  [*ssl_verify_depth*]          - Sets the verification depth in the client certificates chain.
  [*starttls*]                  - Enable STARTTLS support: (on|off|only)
  [*protocol*]                  - Mail protocol to use: (imap|pop3|smtp)
  [*auth_http*]                 - With this directive you can set the URL to the external HTTP-like server for authorization.
  [*xclient*]                   - Whether to use xclient for smtp (on|off)
  [*imap_auth*]                 - Sets permitted methods of authentication for IMAP clients.
  [*imap_capabilities*]         - Sets the IMAP protocol extensions list that is passed to the client in response to the CAPA command.
  [*imap_client_buffer*]        - Sets the IMAP commands read buffer size.
  [*pop3_auth*]                 - Sets permitted methods of authentication for POP3 clients.
  [*pop3_capabilities*]         - Sets the POP3 protocol extensions list that is passed to the client in response to the CAPA command.
  [*smtp_auth*]                 - Sets permitted methods of SASL authentication for SMTP clients.
  [*smtp_capabilities*]         - Sets the SMTP protocol extensions list that is passed to the client in response to the EHLO command.
  [*proxy_pass_error_message*]  - Indicates whether to pass the error message obtained during the authentication on the backend
                                  to the client.
  [*server_name*]               - List of mailhostnames for which this mailhost will respond. Default [$name].
  [*raw_prepend*]               - A single string, or an array of strings to prepend to the server directive (after mailhost_cfg_prepend
                                  directive). NOTE: YOU are responsible for a semicolon on each line that requires one.
  [*raw_append*]                - A single string, or an array of strings to append to the server directive (after mailhost_cfg_append
                                  directive). NOTE: YOU are responsible for a semicolon on each line that requires one.
  [*mailhost_cfg_append*]       - It expects a hash with custom directives to put after everything else inside server
  [*mailhost_cfg_prepend*]      - It expects a hash with custom directives to put before everything else inside server

Actions:

Requires:

Sample Usage:
 nginx::resource::mailhost { 'domain1.example':
   ensure      => present,
   auth_http   => 'server2.example/cgi-bin/auth',
   protocol    => 'smtp',
   listen_port => 587,
   ssl_port    => 465,
   starttls    => 'only',
   xclient     => 'off',
   ssl         => true,
   ssl_cert    => '/tmp/server.crt',
   ssl_key     => '/tmp/server.pem',
 }

#### Parameters

The following parameters are available in the `nginx::resource::mailhost` defined type.

##### `listen_port`

Data type: `Integer`



##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: 'present'

##### `listen_ip`

Data type: `Variant[Array[String], String]`



Default value: '*'

##### `listen_options`

Data type: `Optional[String]`



Default value: `undef`

##### `ipv6_enable`

Data type: `Boolean`



Default value: `false`

##### `ipv6_listen_ip`

Data type: `Variant[Array[String], String]`



Default value: '::'

##### `ipv6_listen_port`

Data type: `Integer`



Default value: 80

##### `ipv6_listen_options`

Data type: `String`



Default value: 'default ipv6only=on'

##### `ssl`

Data type: `Boolean`



Default value: `false`

##### `ssl_cert`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_ciphers`

Data type: `String`



Default value: $nginx::ssl_ciphers

##### `ssl_client_cert`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_crl`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_dhparam`

Data type: `Optional[String]`



Default value: $nginx::ssl_dhparam

##### `ssl_ecdh_curve`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_key`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_password_file`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_port`

Data type: `Optional[Integer]`



Default value: `undef`

##### `ssl_prefer_server_ciphers`

Data type: `Enum['on', 'off']`



Default value: $nginx::ssl_prefer_server_ciphers

##### `ssl_protocols`

Data type: `String`



Default value: $nginx::ssl_protocols

##### `ssl_session_cache`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_session_ticket_key`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_session_tickets`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_session_timeout`

Data type: `String`



Default value: '5m'

##### `ssl_trusted_cert`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_verify_depth`

Data type: `Optional[Integer]`



Default value: `undef`

##### `starttls`

Data type: `Enum['on', 'off', 'only']`



Default value: 'off'

##### `protocol`

Data type: `Any`



Default value: `undef`

##### `auth_http`

Data type: `Optional[String]`



Default value: `undef`

##### `auth_http_header`

Data type: `Optional[String]`



Default value: `undef`

##### `xclient`

Data type: `String`



Default value: 'on'

##### `imap_auth`

Data type: `Optional[String]`



Default value: `undef`

##### `imap_capabilities`

Data type: `Optional[Array]`



Default value: `undef`

##### `imap_client_buffer`

Data type: `Optional[String]`



Default value: `undef`

##### `pop3_auth`

Data type: `Optional[String]`



Default value: `undef`

##### `pop3_capabilities`

Data type: `Optional[Array]`



Default value: `undef`

##### `smtp_auth`

Data type: `Optional[String]`



Default value: `undef`

##### `smtp_capabilities`

Data type: `Optional[Array]`



Default value: `undef`

##### `raw_prepend`

Data type: `Optional[Variant[Array, String]]`



Default value: `undef`

##### `raw_append`

Data type: `Optional[Variant[Array, String]]`



Default value: `undef`

##### `mailhost_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `mailhost_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `proxy_pass_error_message`

Data type: `String`



Default value: 'off'

##### `server_name`

Data type: `Array`



Default value: [$name]

### nginx::resource::map

The nginx::resource::map class.

#### Parameters

The following parameters are available in the `nginx::resource::map` defined type.

##### `string`

Data type: `String[2]`



##### `mappings`

Data type: `Variant[Array, Hash]`



##### `default`

Data type: `Optional[String]`



Default value: `undef`

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: 'present'

##### `include_files`

Data type: `Array[String]`



Default value: []

##### `hostnames`

Data type: `Boolean`



Default value: `false`

### nginx::resource::server

define: nginx::resource::server

This definition creates a virtual host

Parameters:
  [*ensure*]                     - Enables or disables the specified server (present|absent)
  [*listen_ip*]                  - Default IP Address for NGINX to listen with this server on. Defaults to all interfaces (*)
  [*listen_port*]                - Default IP Port for NGINX to listen with this server on. Defaults to TCP 80
  [*listen_options*]             - Extra options for listen directive like 'default_server' to catchall. Undef by default.
  [*listen_unix_socket_enable*]  - BOOL value to enable/disable UNIX socket listening support (false|true).
  [*listen_unix_socket*]         - Default unix socket for NGINX to listen with this server on. Defaults to UNIX /var/run/nginx.sock
  [*listen_unix_socket_options*] - Extra options for listen directive like 'default' to catchall. Undef by default.
  [*location_satisfy*]           - Allows access if all (all) or at least one (any) of the auth modules allow access.
  [*location_allow*]             - Array: Locations to allow connections from.
  [*location_deny*]              - Array: Locations to deny connections from.
  [*ipv6_enable*]                - BOOL value to enable/disable IPv6 support (false|true). Module will check to see if IPv6 support
    exists on your system before enabling.
  [*ipv6_listen_ip*]             - Default IPv6 Address for NGINX to listen with this server on. Defaults to all interfaces (::)
  [*ipv6_listen_port*]           - Default IPv6 Port for NGINX to listen with this server on. Defaults to TCP 80
  [*ipv6_listen_options*]        - Extra options for listen directive like 'default' to catchall. Template will allways add ipv6only=on.
    While issue jfryman/puppet-nginx#30 is discussed, default value is 'default'.
  [*add_header*]                 - Hash: Adds headers to the HTTP response when response code is equal to 200, 204, 301, 302 or 304.
  [*index_files*]                - Default index files for NGINX to read when traversing a directory
  [*autoindex*]                  - Set it on 'on' or 'off 'to activate/deactivate autoindex directory listing. Undef by default.
  [*proxy*]                      - Proxy server(s) for the root location to connect to.  Accepts a single value, can be used in
    conjunction with nginx::resource::upstream
  [*proxy_read_timeout*]         - Override the default proxy read timeout value of 90 seconds
  [*proxy_send_timeout*]         - Override the default proxy send timeout value of 90 seconds
  [*proxy_redirect*]             - Override the default proxy_redirect value of off.
  [*proxy_buffering*]            - If defined, sets the proxy_buffering to the passed value.
  [*resolver*]                   - Array: Configures name servers used to resolve names of upstream servers into addresses.
  [*fastcgi*]                    - location of fastcgi (host:port)
  [*fastcgi_param*]              - Set additional custom fastcgi_params
  [*fastcgi_params*]             - optional alternative fastcgi_params file to use
  [*fastcgi_index*]              - optional FastCGI index page
  [*fastcgi_script*]             - optional SCRIPT_FILE parameter
  [*uwsgi_read_timeout*]         - optional value for uwsgi_read_timeout
  [*ssl*]                        - Indicates whether to setup SSL bindings for this server.
  [*ssl_cert*]                   - Pre-generated SSL Certificate file to reference for SSL Support. This is not generated by this module.
    Set to `false` to inherit from the http section, which improves performance by conserving memory.
  [*ssl_client_cert*]            - Pre-generated SSL Certificate file to reference for client verify SSL Support. This is not generated by
    this module.
  [*ssl_verify_client*]          - Enables verification of client certificates.
  [*ssl_crl*]                    - String: Specifies CRL path in file system
  [*ssl_dhparam*]                - This directive specifies a file containing Diffie-Hellman key agreement protocol cryptographic
    parameters, in PEM format, utilized for exchanging session keys between server and client. Defaults to nginx::ssl_dhparam
  [*ssl_ecdh_curve*]             - This directive specifies a curve for ECDHE ciphers.
  [*ssl_prefer_server_ciphers*]  - String: Specifies that server ciphers should be preferred over client ciphers when using the SSLv3 and
    TLS protocols. Defaults to nginx::ssl_prefer_server_ciphers.
  [*ssl_redirect*]               - Adds a server directive and return statement to force ssl redirect. Will honor ssl_port if it's set.
  [*ssl_redirect_port*]          - Overrides $ssl_port in the SSL redirect set by ssl_redirect
  [*ssl_key*]                    - Pre-generated SSL Key file to reference for SSL Support. This is not generated by this module. Set to
    `false` to inherit from the http section, which improves performance by conserving memory.
  [*ssl_port*]                   - Default IP Port for NGINX to listen with this SSL server on. Defaults to TCP 443
  [*ssl_protocols*]              - SSL protocols enabled. Defaults to 'TLSv1 TLSv1.1 TLSv1.2'.
  [*ssl_buffer_size*]            - Sets the size of the buffer used for sending data.
  [*ssl_ciphers*]                - SSL ciphers enabled. Defaults to nginx::ssl_ciphers
  [*ssl_stapling*]               - Bool: Enables or disables stapling of OCSP responses by the server. Defaults to false.
  [*ssl_stapling_file*]          - String: When set, the stapled OCSP response will be taken from the specified file instead of querying
    the OCSP responder specified in the server certificate.
  [*ssl_stapling_responder*]     - String: Overrides the URL of the OCSP responder specified in the Authority Information Access
    certificate extension.
  [*ssl_stapling_verify*]        - Bool: Enables or disables verification of OCSP responses by the server. Defaults to false.
  [*ssl_session_timeout*]        - String: Specifies a time during which a client may reuse the session parameters stored in a cache.
    Defaults to 5m.
  [*ssl_session_tickets*]        - String: Enables or disables session resumption through TLS session tickets.
  [*ssl_session_ticket_key*]     - String: Sets a file with the secret key used to encrypt and decrypt TLS session tickets.
  [*ssl_trusted_cert*]           - String: Specifies a file with trusted CA certificates in the PEM format used to verify client
    certificates and OCSP responses if ssl_stapling is enabled.
  [*ssl_verify_depth*]           - Integer: Sets the verification depth in the client certificates chain.
  [*spdy*]                       - Toggles SPDY protocol.
  [*http2*]                      - Toggles HTTP/2 protocol.
  [*server_name*]                - List of servernames for which this server will respond. Default [$name].
  [*www_root*]                   - Specifies the location on disk for files to be read from. Cannot be set in conjunction with $proxy
  [*rewrite_www_to_non_www*]     - Adds a server directive and rewrite rule to rewrite www.domain.com to domain.com in order to avoid
    duplicate content (SEO);
  [*try_files*]                  - Specifies the locations for files to be checked as an array. Cannot be used in conjuction with $proxy.
  [*proxy_cache*]                - This directive sets name of zone for caching. The same zone can be used in multiple places.
  [*proxy_cache_key*]            - Override the default proxy_cache_key of $scheme$proxy_host$request_uri
  [*proxy_cache_use_stale*]      - Override the default proxy_cache_use_stale value of off.
  [*proxy_cache_valid*]          - This directive sets the time for caching different replies.
  [*proxy_cache_lock*]           - This directive sets the locking mechanism for pouplating cache.
  [*proxy_cache_bypass*]         - Defines conditions which the response will not be cached
  [*proxy_method*]               - If defined, overrides the HTTP method of the request to be passed to the backend.
  [*proxy_http_version*]         - Sets the proxy http version
  [*proxy_set_body*]             - If defined, sets the body passed to the backend.
  [*absolute_redirect*]          - Enables or disables the absolute redirect functionality of nginx
  [*auth_basic*]                 - This directive includes testing name and password with HTTP Basic Authentication.
  [*auth_basic_user_file*]       - This directive sets the htpasswd filename for the authentication realm.
  [*auth_request*]               - This allows you to specify a custom auth endpoint
  [*client_max_body_size*]       - This directive sets client_max_body_size.
  [*client_body_timeout*]        - Sets how long the server will wait for a client body. Default is 60s
  [*client_header_timeout*]      - Sets how long the server will wait for a client header. Default is 60s
  [*raw_prepend*]                - A single string, or an array of strings to prepend to the server directive (after cfg prepend
  directives). NOTE: YOU are responsible for a semicolon on each line that requires one.
  [*raw_append*]                 - A single string, or an array of strings to append to the server directive (after cfg append
    directives). NOTE: YOU are responsible for a semicolon on each line that requires one.
  [*location_raw_prepend*]       - A single string, or an array of strings to prepend to the location directive (after custom_cfg
    directives). NOTE: YOU are responsible for a semicolon on each line that requires one.
  [*location_raw_append*]        - A single string, or an array of strings to append to the location directive (after custom_cfg
    directives). NOTE: YOU are responsible for a semicolon on each line that requires one.
  [*server_cfg_append*]          - It expects a hash with custom directives to put after everything else inside server
  [*server_cfg_prepend*]         - It expects a hash with custom directives to put before everything else inside server
  [*server_cfg_ssl_append*]      - It expects a hash with custom directives to put after everything else inside server ssl
  [*server_cfg_ssl_prepend*]     - It expects a hash with custom directives to put before everything else inside server ssl
  [*include_files*]              - Adds include files to server
  [*access_log*]                 - Where to write access log (log format can be set with $format_log). This can be either a string or an
    array; in the latter case, multiple lines will be created. Additionally, unlike the earlier behavior, setting it to 'absent' in the
    server context will remove this directive entirely from the server stanza, rather than setting a default. Can also be disabled for
    this server with the string 'off'.
  [*error_log*]                  - Where to write error log. May add additional options like error level to the end. May set to 'absent',
    in which case it will be omitted in this server stanza (and default to nginx.conf setting)
  [*passenger_cgi_param*]        - Allows one to define additional CGI environment variables to pass to the backend application
  [*passenger_set_header*]       - Allows one to set headers to pass to the backend application (Passenger 5.0+)
  [*passenger_env_var*]          - Allows one to set environemnt variables to pass to the backend application (Passenger 5.0+)
  [*passenger_pre_start*]        - Allows setting a URL to pre-warm the host. Per Passenger docs, the "domain part of the URL" must match
    a value of server_name. If this is an array, multiple URLs can be specified.
  [*log_by_lua*]                 - Run the Lua source code inlined as the <lua-script-str> at the log request processing phase. This does
    not replace the current access logs, but runs after.
  [*log_by_lua_file*]            - Equivalent to log_by_lua, except that the file specified by <path-to-lua-script-file> contains the Lua
    code, or, as from the v0.5.0rc32 release, the Lua/LuaJIT bytecode to be executed.
  [*gzip_types*]                 - Defines gzip_types, nginx default is text/html
  [*owner*]                      - Defines owner of the .conf file
  [*group*]                      - Defines group of the .conf file
  [*mode*]                       - Defines mode of the .conf file
  [*maintenance*]                - A boolean value to set a server in maintenance
  [*maintenance_value*]          - Value to return when maintenance is on.  Default to return 503
  [*error_pages*]                - Hash: setup errors pages, hash key is the http code and hash value the page
  [*locations*]                  - Hash of servers resources used by this server
  [*locations_defaults*]         - Hash of location default settings
  [*add_listen_directive*]       - Boolean to determine if we should add 'ssl on;' to the vhost or not. defaults to true for nginx 1.14 and older, otherwise false
Actions:

Requires:

Sample Usage:
 nginx::resource::server { 'test2.local':
   ensure   => present,
   www_root => '/var/www/nginx-default',
   ssl      => true,
   ssl_cert => '/tmp/server.crt',
   ssl_key  => '/tmp/server.pem',
 }

#### Parameters

The following parameters are available in the `nginx::resource::server` defined type.

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: 'present'

##### `listen_ip`

Data type: `Variant[Array, String]`



Default value: '*'

##### `listen_port`

Data type: `Integer`



Default value: 80

##### `listen_options`

Data type: `Optional[String]`



Default value: `undef`

##### `listen_unix_socket_enable`

Data type: `Boolean`



Default value: `false`

##### `listen_unix_socket`

Data type: `Variant[Array[Stdlib::Absolutepath], Stdlib::Absolutepath]`



Default value: '/var/run/nginx.sock'

##### `listen_unix_socket_options`

Data type: `Optional[String]`



Default value: `undef`

##### `location_satisfy`

Data type: `Optional[Enum['any', 'all']]`



Default value: `undef`

##### `location_allow`

Data type: `Array`



Default value: []

##### `location_deny`

Data type: `Array`



Default value: []

##### `ipv6_enable`

Data type: `Boolean`



Default value: `false`

##### `ipv6_listen_ip`

Data type: `Variant[Array, String]`



Default value: '::'

##### `ipv6_listen_port`

Data type: `Integer`



Default value: 80

##### `ipv6_listen_options`

Data type: `String`



Default value: 'default ipv6only=on'

##### `add_header`

Data type: `Optional[Hash]`



Default value: `undef`

##### `ssl`

Data type: `Boolean`



Default value: `false`

##### `ssl_listen_option`

Data type: `Boolean`



Default value: `true`

##### `ssl_cert`

Data type: `Optional[Variant[String, Boolean]]`



Default value: `undef`

##### `ssl_client_cert`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_verify_client`

Data type: `String`



Default value: 'on'

##### `ssl_dhparam`

Data type: `Optional[String]`



Default value: $nginx::ssl_dhparam

##### `ssl_ecdh_curve`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_redirect`

Data type: `Boolean`



Default value: `false`

##### `ssl_redirect_port`

Data type: `Optional[Integer]`



Default value: `undef`

##### `ssl_key`

Data type: `Optional[Variant[String, Boolean]]`



Default value: `undef`

##### `ssl_port`

Data type: `Integer`



Default value: 443

##### `ssl_prefer_server_ciphers`

Data type: `Enum['on', 'off']`



Default value: $nginx::ssl_prefer_server_ciphers

##### `ssl_protocols`

Data type: `String`



Default value: $nginx::ssl_protocols

##### `ssl_buffer_size`

Data type: `Any`



Default value: `undef`

##### `ssl_ciphers`

Data type: `String`



Default value: $nginx::ssl_ciphers

##### `ssl_cache`

Data type: `String`



Default value: 'shared:SSL:10m'

##### `ssl_crl`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_stapling`

Data type: `Boolean`



Default value: `false`

##### `ssl_stapling_file`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_stapling_responder`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_stapling_verify`

Data type: `Boolean`



Default value: `false`

##### `ssl_session_timeout`

Data type: `String`



Default value: '5m'

##### `ssl_session_tickets`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_session_ticket_key`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_trusted_cert`

Data type: `Optional[String]`



Default value: `undef`

##### `ssl_verify_depth`

Data type: `Optional[Integer]`



Default value: `undef`

##### `spdy`

Data type: `String`



Default value: $nginx::spdy

##### `http2`

Data type: `Any`



Default value: $nginx::http2

##### `proxy`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_redirect`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_read_timeout`

Data type: `String`



Default value: $nginx::proxy_read_timeout

##### `proxy_send_timeout`

Data type: `String`



Default value: $nginx::proxy_send_timeout

##### `proxy_connect_timeout`

Data type: `Any`



Default value: $nginx::proxy_connect_timeout

##### `proxy_set_header`

Data type: `Array[String]`



Default value: $nginx::proxy_set_header

##### `proxy_hide_header`

Data type: `Array[String]`



Default value: $nginx::proxy_hide_header

##### `proxy_pass_header`

Data type: `Array[String]`



Default value: $nginx::proxy_pass_header

##### `proxy_cache`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_key`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_use_stale`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_cache_valid`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `proxy_cache_lock`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `proxy_cache_bypass`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `proxy_method`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_http_version`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_set_body`

Data type: `Optional[String]`



Default value: `undef`

##### `proxy_buffering`

Data type: `Optional[String]`



Default value: `undef`

##### `resolver`

Data type: `Array`



Default value: []

##### `fastcgi`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_index`

Data type: `Optional[String]`



Default value: `undef`

##### `fastcgi_param`

Data type: `Any`



Default value: `undef`

##### `fastcgi_params`

Data type: `String`



Default value: "${nginx::conf_dir}/fastcgi.conf"

##### `fastcgi_script`

Data type: `Optional[String]`



Default value: `undef`

##### `uwsgi`

Data type: `Optional[String]`



Default value: `undef`

##### `uwsgi_params`

Data type: `String`



Default value: "${nginx::config::conf_dir}/uwsgi_params"

##### `uwsgi_read_timeout`

Data type: `Optional[String]`



Default value: `undef`

##### `index_files`

Data type: `Array`



Default value: [
    'index.html',
    'index.htm',
    'index.php']

##### `autoindex`

Data type: `Optional[String]`



Default value: `undef`

##### `server_name`

Data type: `Array[String]`



Default value: [$name]

##### `www_root`

Data type: `Optional[String]`



Default value: `undef`

##### `rewrite_www_to_non_www`

Data type: `Boolean`



Default value: `false`

##### `location_custom_cfg`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_custom_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `location_custom_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `try_files`

Data type: `Optional[Array[String]]`



Default value: `undef`

##### `absolute_redirect`

Data type: `Optional[Enum['on', 'off']]`



Default value: `undef`

##### `auth_basic`

Data type: `Optional[String]`



Default value: `undef`

##### `auth_basic_user_file`

Data type: `Optional[String]`



Default value: `undef`

##### `auth_request`

Data type: `Optional[String]`



Default value: `undef`

##### `client_body_timeout`

Data type: `Optional[String]`



Default value: `undef`

##### `client_header_timeout`

Data type: `Optional[String]`



Default value: `undef`

##### `client_max_body_size`

Data type: `Any`



Default value: `undef`

##### `raw_prepend`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `raw_append`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `location_raw_prepend`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `location_raw_append`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `server_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `server_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `server_cfg_ssl_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `server_cfg_ssl_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `include_files`

Data type: `Optional[Array[String]]`



Default value: `undef`

##### `access_log`

Data type: `Optional[Variant[String, Array]]`



Default value: `undef`

##### `error_log`

Data type: `Optional[Variant[String, Array]]`



Default value: `undef`

##### `format_log`

Data type: `Any`



Default value: 'combined'

##### `passenger_cgi_param`

Data type: `Optional[Hash]`



Default value: `undef`

##### `passenger_set_header`

Data type: `Optional[Hash]`



Default value: `undef`

##### `passenger_env_var`

Data type: `Optional[Hash]`



Default value: `undef`

##### `passenger_pre_start`

Data type: `Optional[Variant[Array[String], String]]`



Default value: `undef`

##### `log_by_lua`

Data type: `Optional[String]`



Default value: `undef`

##### `log_by_lua_file`

Data type: `Optional[String]`



Default value: `undef`

##### `use_default_location`

Data type: `Any`



Default value: `true`

##### `rewrite_rules`

Data type: `Any`



Default value: []

##### `string_mappings`

Data type: `Any`



Default value: {}

##### `geo_mappings`

Data type: `Any`



Default value: {}

##### `gzip_types`

Data type: `Optional[String]`



Default value: `undef`

##### `owner`

Data type: `String`



Default value: $nginx::global_owner

##### `group`

Data type: `String`



Default value: $nginx::global_group

##### `mode`

Data type: `String`



Default value: $nginx::global_mode

##### `maintenance`

Data type: `Boolean`



Default value: `false`

##### `maintenance_value`

Data type: `String`



Default value: 'return 503'

##### `error_pages`

Data type: `Any`



Default value: `undef`

##### `locations`

Data type: `Hash`



Default value: {}

##### `locations_defaults`

Data type: `Hash`



Default value: {}

##### `add_listen_directive`

Data type: `Boolean`



Default value: $nginx::add_listen_directive

### nginx::resource::streamhost

define: nginx::resource::streamhost

This definition creates a virtual host

Parameters:
  [*ensure*]              - Enables or disables the specified streamhost
    (present|absent)
  [*listen_ip*]           - Default IP Address for NGINX to listen with this
    streamhost on. Defaults to all interfaces (*)
  [*listen_port*]         - Default IP Port for NGINX to listen with this
    streamhost on. Defaults to TCP 80
  [*listen_options*]      - Extra options for listen directive like
    'default' to catchall. Undef by default.
  [*ipv6_enable*]         - BOOL value to enable/disable IPv6 support
    (false|true). Module will check to see if IPv6 support exists on your
    system before enabling.
  [*ipv6_listen_ip*]      - Default IPv6 Address for NGINX to listen with
    this streamhost on. Defaults to all interfaces (::)
  [*ipv6_listen_port*]    - Default IPv6 Port for NGINX to listen with this
    streamhost on. Defaults to TCP 80
  [*ipv6_listen_options*] - Extra options for listen directive like 'default'
    to catchall. Template will allways add ipv6only=on. While issue
    jfryman/puppet-nginx#30 is discussed, default value is 'default'.
  [*proxy*]               - Proxy server(s) for the root location to connect
    to.  Accepts a single value, can be used in conjunction with
    nginx::resource::upstream
  [*proxy_read_timeout*]  - Override the default the proxy read timeout value
    of 90 seconds
  [*resolver*]            - Array: Configures name servers used to resolve
    names of upstream servers into addresses.
  [*raw_prepend*]            - A single string, or an array of strings to
    prepend to the server directive (after cfg prepend directives). NOTE:
    YOU are responsible for a semicolon on each line that requires one.
  [*raw_append*]             - A single string, or an array of strings to
    append to the server directive (after cfg append directives). NOTE:
    YOU are responsible for a semicolon on each line that requires one.
  [*owner*]                   - Defines owner of the .conf file
  [*group*]                   - Defines group of the .conf file
  [*mode*]                    - Defines mode of the .conf file
                                Default to return 503
Actions:

Requires:

Sample Usage:
 nginx::resource::streamhost { 'test2.local':
   ensure   => present,
 }

#### Parameters

The following parameters are available in the `nginx::resource::streamhost` defined type.

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: 'present'

##### `listen_ip`

Data type: `Variant[Array, String]`



Default value: '*'

##### `listen_port`

Data type: `Integer`



Default value: 80

##### `listen_options`

Data type: `Optional[String]`



Default value: `undef`

##### `ipv6_enable`

Data type: `Boolean`



Default value: `false`

##### `ipv6_listen_ip`

Data type: `Variant[Array, String]`



Default value: '::'

##### `ipv6_listen_port`

Data type: `Integer`



Default value: 80

##### `ipv6_listen_options`

Data type: `String`



Default value: 'default ipv6only=on'

##### `proxy`

Data type: `Any`



Default value: `undef`

##### `proxy_read_timeout`

Data type: `String`



Default value: $nginx::proxy_read_timeout

##### `proxy_connect_timeout`

Data type: `Any`



Default value: $nginx::proxy_connect_timeout

##### `resolver`

Data type: `Array`



Default value: []

##### `raw_prepend`

Data type: `Any`



Default value: `undef`

##### `raw_append`

Data type: `Any`



Default value: `undef`

##### `owner`

Data type: `String`



Default value: $nginx::global_owner

##### `group`

Data type: `String`



Default value: $nginx::global_group

##### `mode`

Data type: `String`



Default value: $nginx::global_mode

### nginx::resource::upstream

define: nginx::resource::upstream

This definition creates a new upstream proxy entry for NGINX

Parameters:
  [*members*]               - Array of member URIs for NGINX to connect to. Must follow valid NGINX syntax.
                              If omitted, individual members should be defined with nginx::resource::upstream::member
  [*ensure*]                - Enables or disables the specified location (present|absent)
  [*upstream_cfg_append*]   - Hash of custom directives to put after other directives in upstream
  [*upstream_cfg_prepend*]  - It expects a hash with custom directives to put before anything else inside upstream
  [*upstream_fail_timeout*] - Set the fail_timeout for the upstream. Default is 10 seconds - As that is what Nginx does normally.
  [*upstream_max_fails*]    - Set the max_fails for the upstream. Default is to use nginx default value which is 1.

Actions:

Requires:

Sample Usage:
 nginx::resource::upstream { 'proxypass':
   ensure  => present,
   members => [
     'localhost:3000',
     'localhost:3001',
     'localhost:3002',
   ],
 }

 Custom config example to use ip_hash, and 20 keepalive connections
 create a hash with any extra custom config you want.
 $my_config = {
   'ip_hash'   => '',
   'keepalive' => '20',
 }
 nginx::resource::upstream { 'proxypass':
   ensure              => present,
   members => [
     'localhost:3000',
     'localhost:3001',
     'localhost:3002',
   ],
   upstream_cfg_prepend => $my_config,
 }

#### Parameters

The following parameters are available in the `nginx::resource::upstream` defined type.

##### `members`

Data type: `Optional[Array]`



Default value: `undef`

##### `members_tag`

Data type: `Any`



Default value: `undef`

##### `ensure`

Data type: `Enum['present', 'absent']`



Default value: 'present'

##### `upstream_cfg_append`

Data type: `Optional[Hash]`



Default value: `undef`

##### `upstream_cfg_prepend`

Data type: `Optional[Hash]`



Default value: `undef`

##### `upstream_fail_timeout`

Data type: `Any`



Default value: '10s'

##### `upstream_max_fails`

Data type: `Any`



Default value: `undef`

##### `upstream_context`

Data type: `Enum['http', 'stream']`



Default value: 'http'

### nginx::resource::upstream::member

Define: nginx::resources::upstream::member

Creates an upstream member inside the upstream block. Export this resource
in all upstream member servers and collect them on the NGINX server.


Requirements:
  Requires storeconfigs on the Puppet Master to export and collect resources


Parameters:
  [*ensure*]                  - Enables or disables the specified member (present|absent)
  [*upstream*]                - The name of the upstream resource
  [*server*]                  - Hostname or IP of the upstream member server
  [*port*]                    - Port of the listening service on the upstream member
  [*upstream_fail_timeout*]   - Set the fail_timeout for the upstream. Default is 10 seconds


Examples:

  Exporting the resource on a upstream member server:

  @@nginx::resource::upstream::member { $trusted['certname']:
    ensure    => present,
    upstream  => 'proxypass',
    server    => $facts['networking']['ip'],
    port      => 3000,
  }


  Collecting the resource on the NGINX server:

  nginx::resource::upstream { 'proxypass':
    ensure    => present,
  }

#### Parameters

The following parameters are available in the `nginx::resource::upstream::member` defined type.

##### `upstream`

Data type: `Any`



##### `server`

Data type: `Any`



##### `ensure`

Data type: `Enum['present', 'absent']`



Default value: 'present'

##### `port`

Data type: `Integer`



Default value: 80

##### `upstream_fail_timeout`

Data type: `Any`



Default value: '10s'

